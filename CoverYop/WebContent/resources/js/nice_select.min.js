(function(e){e.fn.niceselect=function(){return this.each(function(t,n){var r=e(this).attr("name");var i=e(this);var s=t;var o;if(i.attr("multiple")!==undefined){o="multiple"}else{o="normal"}if(e(this).attr("class")!==undefined){var u=e(this).attr("class")}else{var u=""}i.wrap('<div class="select_style '+u+'"/>');e('<span class="selectcon">').insertBefore(i);if(i.find('[value="placeholder"]').length>0){e('<div class="niceselect '+r+'" data-multi="'+o+'"><p class="top">'+i.find('[value="placeholder"]').html()+'</p><div class="value_wrapper"></div></div>').insertBefore(this)}else{e('<div class="niceselect '+r+'" data-multi="'+o+'"><p class="top">Select</p><div class="value_wrapper"></div></div>').insertBefore(this)}if(i.find("optgroup").length>0){i.find("optgroup").each(function(t,n){i.siblings(".niceselect").children(".value_wrapper").append('<div class="opt opt'+t+'"><span class="optTitle">'+e(n).attr("label")+"</span></div>");e(n).find("option").not('[value="placeholder"]').each(function(n,s){var o=e(this);var u;if(e(this).val()==""){u=e(this).html()}else{u=e(this).val()}var a=e(this).html();if(i.attr("multiple")!==undefined){i.siblings(".niceselect").children(".value_wrapper").children(".opt"+t).append('<div class="values"><input type="checkbox" style=" pointer-events: none;" name="'+r+'[]" value="'+u+'" data-text="'+a+'" id="'+n+r+n+'" /> <label class="nice_label" >'+a+"</label></div>")}else{i.siblings(".niceselect").children(".value_wrapper").children(".opt"+t).append('<div class="values"><input type="radio"  class="hide" name="'+r+'" value="'+u+'" id="'+n+r+n+'" data-text="'+a+'" /> <label >'+a+"</label></div>")}})});i.children("option").not('[value="placeholder"]').each(function(t,n){var s=e(this);var o;if(e(this).val()==""){o=e(this).html()}else{o=e(this).val()}var u=e(this).html();if(i.attr("multiple")!==undefined){i.siblings(".niceselect").children(".value_wrapper").append('<div class="values"><input type="checkbox" style=" pointer-events: none;" name="'+r+'[]" value="'+o+'" data-text="'+u+'" id="'+t+r+t+'" /> <label class="nice_label" >'+u+"</label></div>")}else{i.siblings(".niceselect").children(".value_wrapper").append('<div class="values"><input type="radio"  class="hide" name="'+r+'" value="'+o+'" id="'+t+r+t+'" data-text="'+u+'" /> <label >'+u+"</label></div>")}})}else{i.find("option").not('[value="placeholder"]').each(function(t,n){var s=e(this);var o;if(e(this).val()==""){o=e(this).html()}else{o=e(this).val()}var u=e(this).html();if(i.attr("multiple")!==undefined){i.siblings(".niceselect").children(".value_wrapper").append('<div class="values"><input type="checkbox" style=" pointer-events: none;" name="'+r+'[]" value="'+o+'" data-text="'+u+'" id="'+t+r+t+'" /> <label class="nice_label" >'+u+"</label></div>")}else{i.siblings(".niceselect").children(".value_wrapper").append('<div class="values"><input type="radio"  class="hide" name="'+r+'" value="'+o+'" id="'+t+r+t+'" data-text="'+u+'" /> <label >'+u+"</label></div>")}})}e(this).remove();e("body").on("click",function(){e(".niceselect .value_wrapper").hide();e(".select_style").removeClass("active")});e("body").on("click",".niceselect",function(t){t.stopImmediatePropagation();if(e(this).parent().hasClass("active")){e(".niceselect .value_wrapper").hide();e(this).parent().removeClass("active")}else{e(".niceselect .value_wrapper").hide();e(this).children(".value_wrapper").show();e(this).parent().addClass("active")}});e("body").on("click",".niceselect .value_wrapper .values",function(t){t.stopImmediatePropagation();var n=e(this).find("input");var r=e(this).parent().parent();if(r.attr("data-multi")!=="multiple"){e(this).parent().parent().find(".active").removeClass("active");if(e(this).hasClass("active")){e(this).removeClass("active")}else{e(this).addClass("active")}e(".niceselect .value_wrapper").hide();e(".select_style").removeClass("active")}else{if(e(this).hasClass("active")){e(this).removeClass("active")}else{e(this).addClass("active")}}n.prop("checked",!n.prop("checked"));n.trigger("change")});e("body").on("change",".niceselect .values input",function(t){var n=e(this).closest(".niceselect");if(n.attr("data-multi")=="multiple"){var r=n.find("input:checked").length;n.find("p.top").html(r+" Selected")}else{n.find("p.top").html(e(this).attr("data-text"))}})})}})(jQuery)